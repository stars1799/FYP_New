<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>32_Step_Ahead_Solutions - Our Proposal</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">32_Step_Ahead_Solutions</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-proposal" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Proposal</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-proposal">    
        <li>
    <a class="dropdown-item" href="../Proposal/fyp_proposal.html" rel="" target="">
 <span class="dropdown-text">Our Proposal</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-research" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Research</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-research">    
        <li>
    <a class="dropdown-item" href="../Initial_Research/Literature_Review.html" rel="" target="">
 <span class="dropdown-text">Literature Review</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Initial_Research/On-the-ground_Research.html" rel="" target="">
 <span class="dropdown-text">On-the-ground Research</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Initial_Research/AMK.html" rel="" target="">
 <span class="dropdown-text">Ang Mo Kio</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Initial_Research/PG.html" rel="" target="">
 <span class="dropdown-text">Punggol</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-data-exploration" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Data Exploration</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-data-exploration">    
        <li>
    <a class="dropdown-item" href="../Data Exploration/BA/BA.html" rel="" target="">
 <span class="dropdown-text">BA</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Data Exploration/" rel="" target="">
 <span class="dropdown-text">SMT</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-analysis" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Analysis</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-analysis">    
        <li>
    <a class="dropdown-item" href="../Analysis/Demographic Analysis/demo.html" rel="" target="">
 <span class="dropdown-text">Demographics Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Analysis/Geographic Analysis/Geographic-Analysis.html" rel="" target="">
 <span class="dropdown-text">Geospatial Analysis</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#project-outline" id="toc-project-outline" class="nav-link active" data-scroll-target="#project-outline">Project Outline</a>
  <ul class="collapse">
  <li><a href="#project-motivation" id="toc-project-motivation" class="nav-link" data-scroll-target="#project-motivation">Project Motivation</a></li>
  <li><a href="#project-description" id="toc-project-description" class="nav-link" data-scroll-target="#project-description">Project Description</a></li>
  <li><a href="#alignment-of-project-to-smart-cities" id="toc-alignment-of-project-to-smart-cities" class="nav-link" data-scroll-target="#alignment-of-project-to-smart-cities"><strong>Alignment of Project to Smart Cities</strong></a></li>
  <li><a href="#stakeholders" id="toc-stakeholders" class="nav-link" data-scroll-target="#stakeholders"><strong>Stakeholders</strong></a></li>
  <li><a href="#deliverables" id="toc-deliverables" class="nav-link" data-scroll-target="#deliverables"><strong>Deliverables</strong></a>
  <ul class="collapse">
  <li><a href="#outcomes" id="toc-outcomes" class="nav-link" data-scroll-target="#outcomes"><strong>Outcomes:</strong>&nbsp;</a></li>
  <li><a href="#value-statement" id="toc-value-statement" class="nav-link" data-scroll-target="#value-statement"><strong>Value Statement:</strong>&nbsp;</a></li>
  <li><a href="#scope" id="toc-scope" class="nav-link" data-scroll-target="#scope"><strong>Scope</strong></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#project-plan" id="toc-project-plan" class="nav-link" data-scroll-target="#project-plan">Project Plan</a>
  <ul class="collapse">
  <li><a href="#team-conduct" id="toc-team-conduct" class="nav-link" data-scroll-target="#team-conduct">Team Conduct</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources</a>
  <ul class="collapse">
  <li><a href="#datasets" id="toc-datasets" class="nav-link" data-scroll-target="#datasets">Datasets</a></li>
  <li><a href="#technologies" id="toc-technologies" class="nav-link" data-scroll-target="#technologies">Technologies</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Our Proposal</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">Invalid Date</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="project-outline" class="level1">
<h1>Project Outline</h1>
<section id="project-motivation" class="level2">
<h2 class="anchored" data-anchor-id="project-motivation">Project Motivation</h2>
<p>In urban development, there is a significant challenge of conceptual designs being laid out by architects and urban planners that do not always align with the practical needs and preferences of people who use these spaces. After the implementation of these designs, it often becomes evident that there is a gap between the envisioned plans and the community’s practical needs, which should truly align with their desires for accessibility. This gap then results in “desired lines” which are natural walkways or routes that people prefer to take when moving between locations. These pathways are not originally implemented but emerge organically based on their needs and preferences.</p>
<p>With limited land and space to work with in Singapore, the Urban Redevelopment Authority of Singapore (URA) aims to bridge this gap by developing a framework that they can use to prevent the need for retrofitting. Additionally, with future estates in consideration, URA aims to effectively build an estate with more direct and accessible paths from HDB estates to key amenities.</p>
</section>
<section id="project-description" class="level2">
<h2 class="anchored" data-anchor-id="project-description">Project Description</h2>
<p>Our project aims to bridge this gap by reevaluating an existing estate with these desired lines and developing a comprehensive framework that eliminates the need for such pathways. The framework will be one that URA will ultimately leverage and follow to plan for future estates that contain more direct paths to key amenities. Through this project, we are committed to rearranging the urban environment through a user-centric perspective that optimally accommodates the community’s movements, thus eliminating the disconnect between conceptual designs and practical needs.</p>
<p>Additionally, we recognise that retrofitting is difficult. Therefore, our focus is on preemptively eliminating the need for retrofitting by ensuring that the initial designs of walkways are in harmony with the community’s needs. This proactive strategy not only saves resources but also creates convenience for residents to travel to and from key amenities.</p>
</section>
<section id="alignment-of-project-to-smart-cities" class="level2">
<h2 class="anchored" data-anchor-id="alignment-of-project-to-smart-cities"><strong>Alignment of Project to Smart Cities</strong></h2>
<p>The project aligns with the goal of creating an inclusive and accessible urban environment within the Smart City Framework. Our project aims to enhance accessibility for everyone within the city by ensuring that urban spaces are designed to truly accommodate the needs of pedestrians. By studying how people navigate their surroundings, we gain valuable insights into their practical needs and desired walkways. This in-depth analysis allows us to design urban spaces that organically align with the way residents move, eliminating the disconnect between conceptual designs and real-life requirements. We believe that this would improve the well-being of the community as they would be able to navigate the urban landscape more comfortably and safely.&nbsp;</p>
</section>
<section id="stakeholders" class="level2">
<h2 class="anchored" data-anchor-id="stakeholders"><strong>Stakeholders</strong></h2>
<table class="table">
<colgroup>
<col style="width: 37%">
<col style="width: 62%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Sponsor</strong></td>
<td>URA - Ms Tan Chun Xiao (Planner under Design &amp; Planning Lab)&nbsp;</td>
</tr>
<tr class="even">
<td><strong>Users</strong></td>
<td>URA and the Design &amp; Planning Lab team</td>
</tr>
<tr class="odd">
<td><strong>Advisors/Practitioners/Mentors</strong></td>
<td>URA - Mr Wang Songyu&nbsp;</td>
</tr>
</tbody>
</table>
</section>
<section id="deliverables" class="level2">
<h2 class="anchored" data-anchor-id="deliverables"><strong>Deliverables</strong></h2>
<section id="outcomes" class="level3">
<h3 class="anchored" data-anchor-id="outcomes"><strong>Outcomes:</strong>&nbsp;</h3>
<ul>
<li>A framework with a set of methodologies that details how URA can build future walkways and BFAs in estates, providing desired walkways that people are looking for within their estate to access key amenities efficiently.</li>
</ul>
</section>
<section id="value-statement" class="level3">
<h3 class="anchored" data-anchor-id="value-statement"><strong>Value Statement:</strong>&nbsp;</h3>
<ul>
<li><p>URA are able to conduct data-informed urban planning when planning for walkways around the HDBs and key amenities within the estate.</p></li>
<li><p>Reduces the need to retrofit future walkways in estates to correct errors which saves time and resources.</p></li>
<li><p>More efficient use of untapped land in Singapore, given the limited amount of land available.</p></li>
</ul>
</section>
<section id="scope" class="level3">
<h3 class="anchored" data-anchor-id="scope"><strong>Scope</strong></h3>
<p>The scope of this project centres around the main tasks that we will need to perform:</p>
<ul>
<li><p>Analysis of current locations of HDB buildings and amenities within the chosen estates</p></li>
<li><p>Analysis of current walking routes between the postal codes within the estate (especially between the amenities and HDBs)</p></li>
<li><p>Analyse the current considerations (framework) used when planning a HDB estate</p></li>
<li><p>Analyse population demographics (Singstat data) and gain insights into their behaviours when travelling within the estate (behavioural analysis)</p></li>
<li><p>Generate a new framework to be used when planning the layout of a new estate for building walkways</p></li>
</ul>
</section>
</section>
</section>
<section id="project-plan" class="level1">
<h1>Project Plan</h1>
<section id="team-conduct" class="level2">
<h2 class="anchored" data-anchor-id="team-conduct">Team Conduct</h2>
<p>We would be utilising Scrum for our project with James as Scrum Master. We would have time-boxed sprints of 2 weeks each time and use Jira as our productivity tool for our scrum boards. Additionally, Sprint Retrospectives will be conducted at the end of each Sprint to review team performance, reflect on what went well, and improve on teamwork and collaboration for subsequent sprints.</p>
</section>
<section id="resources" class="level2">
<h2 class="anchored" data-anchor-id="resources">Resources</h2>
<section id="datasets" class="level3">
<h3 class="anchored" data-anchor-id="datasets">Datasets</h3>
<ul>
<li><p><strong>GeoFabrik/OpenStreetMap: <a href="https://download.geofabrik.de/asia/malaysia-singapore-brunei.html">Shapefiles</a></strong> containing information about POIs, Transport Infrastructure, Roads &amp; Paths, Essential Amenities, etc.</p></li>
<li><p><strong>URA datasets:</strong> for specific data related to desire lines and paths not found in traditional geospatial datasets (e.g.&nbsp;paths through HDB void decks)</p></li>
<li><p><strong>Data.gov.sg: <a href="https://beta.data.gov.sg/collections?formats=KML%7CKMZ&amp;sort=Last%20updated">Geospatial data</a></strong> containing information about the Master Plan of Singapore (e.g.&nbsp;zoning, planning areas) and related census data.</p></li>
<li><p><strong>SingStat (example datasets):</strong></p>
<ul>
<li><p><a href="https://www.singstat.gov.sg/publications/population/population-trends"><strong>Population Trends</strong></a> (Singapore Residents by Planning Area, Subzone, Age Group, Sex and Type of Dwelling, Jun2023)</p></li>
<li><p><a href="https://www.singstat.gov.sg/-/media/files/find_data/population/statistical_tables/hsetod2023.ashx"><strong>Resident Households By Type Of Dwelling</strong></a>(Type of Dwelling-Dwelling Count as at Jun2023 by Planning Area, Subzone)</p></li>
<li><p><a href="https://www.singstat.gov.sg/publications/reference/cop2020/cop2020-sr2/census20_stat_release2"><strong>Resident Population Aged 5 Years and Over by Planning Area of Residence</strong></a> (Level of Difficulty in Performing Basic Activity in Specific Domain and Age Group, Singapore Census of Population 2020)</p></li>
</ul></li>
</ul>
</section>
<section id="technologies" class="level3">
<h3 class="anchored" data-anchor-id="technologies">Technologies</h3>
<ul>
<li><p><strong>Programming Languages:</strong> Python (including pandas), HTML, CSS, JavaScript&nbsp;</p></li>
<li><p><strong>Web Development Stack:</strong> WAMP, development libraries</p></li>
<li><p><strong>Tools/Platforms:</strong> QGIS/ArcGIS, Jupyter Notebook, Tableau, GitHub, Jira</p></li>
<li><p><strong>Techniques:</strong> Clustering, Network Analysis &amp; Centrality, Geoprocessing, Pedestrian Route Directness (PRD) ratio</p></li>
</ul>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>